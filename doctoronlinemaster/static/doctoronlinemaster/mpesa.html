<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mpesa Test</title>
    <link rel="stylesheet" href="../bootstrap-5/css/bootstrap.min.css">
    <link rel="stylesheet" href="../fontawesome/css/all.css">
    <script src="../bootstrap-5/js/bootstrap.min.js"></script>
    
    <script src="jquery-3.5.1.js"></script>
    <script src="jQuery.print.min.js"></script>
    <!-- <script src="https://www.paypal.com/sdk/js?client-id=test"></script> -->

</head>
<body>
    <div class="alert bg-white shadow-lg rounded position-relative w-50 m-4" role="alert">
      <button class="btn-close position-absolute top-0 end-0" role="alert" data-bs-dismiss="alert"></button>
      <div class="container-fluid p-2" id="pprint">
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi, necessitatibus?</p>
      </div>
    </div>
    <button class="btn btn-primary" id="print">Print</button>
    <script>
      $(document).ready(function(){
        $("#print").click(function(){
          $("#pprint").print({
            title:"doctor online",
            append:"active appointments",
            prepend:"Also active appointments"
          });
        })
      })
    </script>
    <!-- <script>
let headers = new Headers();
headers.append("Content-Type", "application/json");
headers.append("Authorization", "Bearer w4A21sdfxdULHoyADJMfFtuyGrXa");
headers.append("Access-Control-Allow-Origin","http://127.0.0.1:5500/")
headers.append("Access-Control-Allow-Headers","Origin,X-Requested-With,Content-Type,Accept")
fetch("https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest", {
  method: 'POST',
  headers,
  body: JSON.stringify({
    "BusinessShortCode": 174379,
    "Password": "MTc0Mzc5YmZiMjc5ZjlhYTliZGJjZjE1OGU5N2RkNzFhNDY3Y2QyZTBjODkzMDU5YjEwZjc4ZTZiNzJhZGExZWQyYzkxOTIwMjExMDA5MTAzMTI1",
    "Timestamp": "20211009103125",
    "TransactionType": "CustomerPayBillOnline",
    "Amount": 1,
    "PartyA": 254740500532,
    "PartyB": 174379,
    "PhoneNumber": 254740500532,
    "CallBackURL": "https://mydomain.com/path",
    "AccountReference": "CompanyXLTD",
    "TransactionDesc": "Payment of X" 
  })
})
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log(error));

//     $.ajax({
//         url:"https://sandbox.safaricom.co.ke/mpesa/stkpush/v1/processrequest",
//         type:"POST",
//         dataType:"jsonp" ,   
//         crossDomain: true,
       
//         headers:{
//             "Content-Type": "application/json",
//             "Authorization":"Bearer w4A21sdfxdULHoyADJMfFtuyGrXa"
//         },

//         body: JSON.stringify({
//     "BusinessShortCode": 174379,
//     "Password": "MTc0Mzc5YmZiMjc5ZjlhYTliZGJjZjE1OGU5N2RkNzFhNDY3Y2QyZTBjODkzMDU5YjEwZjc4ZTZiNzJhZGExZWQyYzkxOTIwMjExMDA5MTAzMTI1",
//     "Timestamp": "20211009103125",
//     "TransactionType": "CustomerPayBillOnline",
//     "Amount": 1,
//     "PartyA": 254740500532,
//     "PartyB": 174379,
//     "PhoneNumber": 254740500532,
//     "CallBackURL": "https://mydomain.com/path",
//     "AccountReference": "CompanyXLTD",
//     "TransactionDesc": "Payment of X" 
//   })
//     }).done(function(response){
//         console.log("done");
//             console.log(response);
//     }).fail(function(err){
//         console.log("fail");
//         console.log(err.text);
//     })
    </script> -->
</body>
</html>